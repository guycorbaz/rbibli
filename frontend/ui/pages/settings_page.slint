// ============================================================================
// settings_page.slint
// ============================================================================
// Settings page for application configuration.

import { Page } from "page.slint";
import { VerticalBox, HorizontalBox, ComboBox } from "std-widgets.slint";

export component SettingsPage inherits Page {
    title: @tr("Settings");
    description: @tr("Configure application settings");

    // Current language selection
    // "" = System Default, "en" = English, "fr" = French
    in-out property <string> current-language: "";

    // Callback to change language
    callback change-language(string);

    VerticalBox {
        padding: 20px;
        spacing: 20px;
        alignment: start;

        // Language Settings Section
        VerticalBox {
            spacing: 10px;

            Text {
                text: @tr("Language");
                font-size: 18px;
                font-weight: 700;
            }

            HorizontalBox {
                spacing: 10px;
                alignment: start;

                Text {
                    text: @tr("Interface Language:");
                    vertical-alignment: center;
                    width: 150px;
                }

                ComboBox {
                    width: 200px;
                    model: [@tr("System Default"), "English", "FranÃ§ais"];
                    current-index: root.current-language == "fr" ? 2 : (root.current-language == "en" ? 1 : 0);
                    selected => {
                        if (self.current-index == 0) {
                            root.change-language("");
                        } else if (self.current-index == 1) {
                            root.change-language("en");
                        } else if (self.current-index == 2) {
                            root.change-language("fr");
                        }
                    }
                }
            }

            Text {
                text: @tr("Note: Changing language may require a restart to fully take effect.");
                font-size: 12px;
                color: #666;
                wrap: word-wrap;
            }
        }
    }
}
